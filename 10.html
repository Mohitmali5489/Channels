<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Voting System Demo</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <style>
        :root { 
            --bg:#0a0a0b; --card:#161618; --gold:#D4AF37; 
            --grad:linear-gradient(135deg,#BF953F,#FCF6BA,#B38728,#FBF5B7); 
            /* Rank Colors */
            --r1:#FFD700; --r2:#C0C0C0; --r3:#CD7F32; --r4:#4A90E2; --r5:#9B51E0; --r6:#E91E63;
        }
        body { margin:0; background:var(--bg); color:#fff; font-family:'Outfit',sans-serif; padding-bottom:120px; user-select:none; }
        header { position:sticky; top:0; z-index:100; background:rgba(10,10,11,0.95); backdrop-filter:blur(20px); padding:15px; border-bottom:1px solid rgba(212,175,55,0.15); text-align:center; }
        .logo { font-weight:800; font-size:1.1rem; background:var(--grad); -webkit-background-clip:text; -webkit-text-fill-color:transparent; }
        
        #timer { font-size:0.9rem; font-weight:700; color:var(--gold); margin-top:5px; letter-spacing:1px; font-variant-numeric: tabular-nums; }
        
        .container { max-width:500px; margin:0 auto; padding:20px; transition:0.3s; }
        
        /* Card Styles */
        .card { display:flex; align-items:center; background:var(--card); border:1px solid rgba(255,255,255,0.1); border-radius:14px; padding:12px; margin-bottom:10px; cursor:pointer; position:relative; transition:0.2s; }
        .avatar { width:45px; height:45px; border-radius:50%; object-fit:cover; margin-right:15px; background:#333; }
        .info { flex:1; } .name { font-weight:600; font-size:0.95rem; } .role { font-size:0.7rem; color:#aaa; font-weight:600; }
        .rank-badge { width:28px; height:28px; border-radius:50%; border:1px solid rgba(255,255,255,0.1); display:flex; align-items:center; justify-content:center; font-size:0.75rem; font-weight:800; }
        
        /* Rank Colors */
        .card[data-r="1"]{border-color:var(--r1); box-shadow:0 0 10px rgba(255,215,0,0.1);} .card[data-r="1"] .rank-badge{background:var(--r1); color:#000; border:none;}
        .card[data-r="2"]{border-color:var(--r2);} .card[data-r="2"] .rank-badge{background:var(--r2); color:#000; border:none;}
        .card[data-r="3"]{border-color:var(--r3);} .card[data-r="3"] .rank-badge{background:var(--r3); color:#fff; border:none;}
        .card[data-r="4"]{border-color:var(--r4);} .card[data-r="4"] .rank-badge{background:var(--r4); color:#fff; border:none;}
        .card[data-r="5"]{border-color:var(--r5);} .card[data-r="5"] .rank-badge{background:var(--r5); color:#fff; border:none;}
        .card[data-r="6"]{border-color:var(--r6);} .card[data-r="6"] .rank-badge{background:var(--r6); color:#fff; border:none;}
        
        .card.ranked { background:#1c1c1e; }
        
        /* Overlay & Button */
        .btn { position:fixed; bottom:20px; left:50%; transform:translateX(-50%); width:90%; max-width:400px; padding:16px; background:#27272a; color:#555; border-radius:12px; border:none; font-weight:800; cursor:not-allowed; text-transform:uppercase; z-index:200; transition:0.3s; }
        .btn.active { background:var(--grad); color:#000; cursor:pointer; box-shadow:0 10px 30px rgba(179,135,40,0.3); }
        .blur { filter:blur(10px); pointer-events:none; opacity:0.4; }
    </style>
</head>
<body>
    
    <header>
        <div class="logo">DEMO VOTING SYSTEM</div>
        <div id="timer">LIVE DEMO</div>
    </header>
    
    <div class="container" id="app">
        <h4 style="color:var(--gold); margin:20px 0 10px; font-size:0.8rem; letter-spacing:1px;">
            CATEGORY A <span id="c-cat1" style="float:right; font-size:0.7rem; color:#fff; background:#333; padding:2px 8px; border-radius:4px;">0/6</span>
        </h4>
        <div id="l-cat1"></div>

        <h4 style="color:var(--gold); margin:30px 0 10px; font-size:0.8rem; letter-spacing:1px;">
            CATEGORY B <span id="c-cat2" style="float:right; font-size:0.7rem; color:#fff; background:#333; padding:2px 8px; border-radius:4px;">0/6</span>
        </h4>
        <div id="l-cat2"></div>
    </div>
    
    <button class="btn" id="sub" onclick="vote()">Select All 12</button>

    <script>
        // --- CONFIGURATION ---
        const COLORS = ["", "#FFD700", "#C0C0C0", "#CD7F32", "#4A90E2", "#9B51E0", "#E91E63"];
        
        // GENERIC PLACEHOLDER DATA
        const DATA = {
          cat1: [
            { id: "a1", name: "Candidate One", role: "Department A", img: "https://ui-avatars.com/api/?name=C+1&background=333&color=fff" },
            { id: "a2", name: "Candidate Two", role: "Department B", img: "https://ui-avatars.com/api/?name=C+2&background=333&color=fff" },
            { id: "a3", name: "Candidate Three", role: "Department C", img: "https://ui-avatars.com/api/?name=C+3&background=333&color=fff" },
            { id: "a4", name: "Candidate Four", role: "Department A", img: "https://ui-avatars.com/api/?name=C+4&background=333&color=fff" },
            { id: "a5", name: "Candidate Five", role: "Department B", img: "https://ui-avatars.com/api/?name=C+5&background=333&color=fff" },
            { id: "a6", name: "Candidate Six", role: "Department C", img: "https://ui-avatars.com/api/?name=C+6&background=333&color=fff" }
          ],
          cat2: [
            { id: "b1", name: "Nominee Alpha", role: "Class X", img: "https://ui-avatars.com/api/?name=N+A&background=333&color=fff" },
            { id: "b2", name: "Nominee Beta", role: "Class Y", img: "https://ui-avatars.com/api/?name=N+B&background=333&color=fff" },
            { id: "b3", name: "Nominee Gamma", role: "Class Z", img: "https://ui-avatars.com/api/?name=N+G&background=333&color=fff" },
            { id: "b4", name: "Nominee Delta", role: "Class X", img: "https://ui-avatars.com/api/?name=N+D&background=333&color=fff" },
            { id: "b5", name: "Nominee Epsilon", role: "Class Y", img: "https://ui-avatars.com/api/?name=N+E&background=333&color=fff" },
            { id: "b6", name: "Nominee Zeta", role: "Class Z", img: "https://ui-avatars.com/api/?name=N+Z&background=333&color=fff" }
          ]
        };

        // Initialize immediately for demo
        window.onload = () => {
            console.log("DEMO MODE: No Database Connection Required");
            initList('cat1', DATA.cat1); 
            initList('cat2', DATA.cat2);
            // Simulate Timer
            setInterval(() => {
                const now = new Date();
                document.getElementById('timer').innerText = "LIVE DEMO â€¢ " + now.toLocaleTimeString();
            }, 1000);
        };

        function initList(t, d) {
            d.sort(()=>Math.random()-0.5).forEach(c => {
                const el = document.createElement('div'); el.className = 'card'; el.id = c.id;
                el.onclick = () => toggle(c.id, t, c.role);
                el.innerHTML = `<img src="${c.img}" class="avatar">
                <div class="info"><div class="name">${c.name}</div><div class="role">${c.role}</div></div><div class="rank-badge">+</div>`;
                document.getElementById(`l-${t}`).appendChild(el);
            });
        }

        function toggle(id, t, role) {
            const el = document.getElementById(id), box = document.getElementById(`l-${t}`);
            const isRanked = el.classList.contains('ranked');
            if(isRanked) {
                el.classList.remove('ranked'); el.querySelector('.role').innerText = role; el.removeAttribute('data-r');
                box.appendChild(el); 
            } else {
                const r = box.querySelectorAll('.ranked');
                if(r.length >= 6) return;
                el.classList.add('ranked');
                r.length > 0 ? r[r.length-1].after(el) : box.prepend(el); 
            }
            sync(t);
        }

        function sync(t) {
            const r = document.getElementById(`l-${t}`).querySelectorAll('.ranked');
            r.forEach((el, i) => {
                const rank = i+1;
                el.setAttribute('data-r', rank); 
                el.querySelector('.rank-badge').innerText = rank;
                el.querySelector('.role').innerHTML = `<span style="color:${COLORS[rank]}">${rank}${ord(rank)} Choice</span>`;
            });
            document.getElementById(`c-${t}`).innerText = `${r.length}/6`;
            const all = document.querySelectorAll('.ranked').length;
            const btn = document.getElementById('sub');
            btn.className = all===12 ? 'btn active' : 'btn'; 
            btn.innerText = all===12 ? 'CONFIRM DEMO VOTE' : `SELECT ALL 12 (${all}/12)`;
        }

        async function vote() {
            if(!document.getElementById('sub').classList.contains('active')) return;
            
            // SweetAlert UI (Identical to Production)
            const { isConfirmed } = await Swal.fire({
                title:'Submit Demo?', 
                text:'This acts as a simulation of the final vote.', 
                icon:'question', 
                showCancelButton:true, 
                confirmButtonColor:'#D4AF37', 
                background:'#111', 
                color:'#fff'
            });
            
            if(!isConfirmed) return;
            
            // Simulation Loading
            Swal.fire({title:'Simulating Upload...', didOpen:()=>Swal.showLoading(), background:'#111', color:'#fff'});
            
            // SIMULATE NETWORK DELAY (No real DB call)
            setTimeout(() => {
                Swal.fire({
                    title: 'Demo Successful!',
                    text: 'The UI logic is working perfectly. No data was saved.',
                    icon: 'success',
                    confirmButtonColor: '#D4AF37',
                    background: '#111', color: '#fff'
                }).then(() => {
                    location.reload();
                });
            }, 1500);
        }
        
        function ord(n){return["st","nd","rd"][((n+90)%100-10)%10-1]||"th"}
    </script>
</body>
</html>
