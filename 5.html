<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Premium Ballot</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <style>
        :root {
            /* --- PALETTE: Midnight & Neon --- */
            --bg-body: #050505;
            --bg-card: rgba(255, 255, 255, 0.05);
            --bg-glass: rgba(20, 20, 20, 0.7);
            
            --text-main: #ffffff;
            --text-muted: #888888;
            
            --accent-primary: #3b82f6;
            --accent-glow: 0 0 20px rgba(59, 130, 246, 0.4);
            
            /* Rank Colors */
            --gold: #FFD700;
            --silver: #C0C0C0;
            --bronze: #CD7F32;
            --rank-4: #A855F7;
            --rank-5: #EC4899;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            margin: 0;
            background-color: var(--bg-body);
            background-image: radial-gradient(circle at 10% 20%, rgba(59, 130, 246, 0.1) 0%, transparent 20%),
                              radial-gradient(circle at 90% 80%, rgba(236, 72, 153, 0.1) 0%, transparent 20%);
            color: var(--text-main);
            font-family: 'Outfit', sans-serif;
            padding-bottom: 140px; /* Space for bottom bar */
        }

        /* --- TOP HUD (The Live Ballot) --- */
        .hud-container {
            position: sticky; top: 0; z-index: 100;
            background: var(--bg-glass);
            backdrop-filter: blur(15px);
            border-bottom: 1px solid rgba(255,255,255,0.08);
            padding: 15px 20px;
            transition: all 0.3s ease;
        }

        .hud-header {
            display: flex; justify-content: space-between; align-items: center;
            margin-bottom: 10px;
        }

        .brand-logo { font-weight: 900; letter-spacing: 1px; font-size: 1.1rem; }
        .brand-logo span { color: var(--accent-primary); }

        /* The Horizontal Scroll List */
        .ballot-strip {
            display: flex; gap: 12px; overflow-x: auto; 
            padding-bottom: 5px; scroll-behavior: smooth;
        }
        .ballot-strip::-webkit-scrollbar { display: none; }

        /* HUD Mini Item */
        .mini-slot {
            min-width: 45px; height: 45px;
            border-radius: 50%;
            background: rgba(255,255,255,0.05);
            border: 1px dashed rgba(255,255,255,0.2);
            display: flex; align-items: center; justify-content: center;
            font-size: 0.7rem; color: var(--text-muted);
            position: relative;
            flex-shrink: 0;
            transition: all 0.3s;
        }

        .mini-slot.filled {
            border-style: solid;
            border-color: transparent;
            background: #000;
        }

        .mini-slot img {
            width: 100%; height: 100%; border-radius: 50%; object-fit: cover;
        }
        
        /* Rank Badge on Mini Slot */
        .rank-dot {
            position: absolute; bottom: -2px; right: -2px;
            width: 16px; height: 16px; border-radius: 50%;
            font-size: 9px; font-weight: 800; color: #000;
            display: flex; align-items: center; justify-content: center;
            z-index: 2; border: 2px solid var(--bg-body);
        }

        /* --- MAIN CONTENT --- */
        .container { max-width: 600px; margin: 0 auto; padding: 20px; }

        .category-header {
            display: flex; align-items: center; gap: 15px;
            margin: 40px 0 20px;
        }
        .category-line { flex-grow: 1; height: 1px; background: rgba(255,255,255,0.1); }
        .category-title { 
            font-size: 0.9rem; font-weight: 700; text-transform: uppercase; letter-spacing: 2px; color: var(--text-muted); 
        }

        /* --- GRID --- */
        .grid {
            display: grid; grid-template-columns: repeat(3, 1fr);
            gap: 15px;
        }

        /* --- MODERN CARD --- */
        .card {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 15px 10px;
            display: flex; flex-direction: column; align-items: center;
            position: relative;
            cursor: pointer;
            border: 1px solid transparent;
            transition: transform 0.2s, background 0.2s;
        }

        .card:active { transform: scale(0.96); }

        /* ROUND IMAGE CONTAINER */
        .img-ring {
            width: 80px; height: 80px; /* Fixed Size */
            border-radius: 50%;
            padding: 3px; /* Gap for border */
            position: relative;
            margin-bottom: 12px;
            background: rgba(255,255,255,0.05); /* Default ring color */
            transition: background 0.3s;
        }

        /* The actual image */
        .avatar {
            width: 100%; height: 100%;
            border-radius: 50%;
            object-fit: cover; /* Strict Cropping */
            display: block;
            background-color: #1a1a1a;
        }
        
        /* Placeholder Icon */
        .avatar-icon {
            width: 100%; height: 100%; border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            font-size: 1.5rem; color: var(--text-muted);
            background: #111;
        }

        .name {
            font-size: 0.8rem; font-weight: 500; color: var(--text-muted);
            text-align: center; line-height: 1.2;
        }

        /* --- SELECTION STATES --- */
        .card.selected {
            background: rgba(255,255,255,0.08);
            box-shadow: 0 10px 30px -10px rgba(0,0,0,0.5);
        }
        .card.selected .name { color: #fff; font-weight: 700; }

        /* Dynamic Border Colors based on Rank */
        .card[data-rank="1"] .img-ring { background: var(--gold); box-shadow: 0 0 15px var(--gold); }
        .card[data-rank="2"] .img-ring { background: var(--silver); box-shadow: 0 0 15px var(--silver); }
        .card[data-rank="3"] .img-ring { background: var(--bronze); box-shadow: 0 0 15px var(--bronze); }
        .card[data-rank="4"] .img-ring { background: var(--rank-4); }
        .card[data-rank="5"] .img-ring { background: var(--rank-5); }

        /* Rank Badge on Card */
        .card-badge {
            position: absolute; top: 10px; right: 10px;
            font-size: 0.7rem; font-weight: 900;
            background: #fff; color: #000;
            padding: 2px 6px; border-radius: 4px;
            opacity: 0; transform: translateY(5px);
            transition: all 0.3s;
        }
        .card.selected .card-badge { opacity: 1; transform: translateY(0); }


        /* --- BOTTOM ACTION BAR --- */
        .action-bar {
            position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
            width: 90%; max-width: 400px;
            background: rgba(30, 30, 30, 0.9);
            backdrop-filter: blur(10px);
            padding: 10px;
            border-radius: 50px;
            border: 1px solid rgba(255,255,255,0.1);
            box-shadow: 0 10px 40px rgba(0,0,0,0.5);
            z-index: 200;
            display: flex; align-items: center; justify-content: space-between;
        }

        .status-text {
            padding-left: 20px; font-size: 0.75rem; color: #aaa;
        }
        .status-text b { color: #fff; }

        .btn-submit {
            background: #fff; color: #000;
            border: none; padding: 12px 24px;
            border-radius: 40px;
            font-weight: 800; font-family: 'Outfit', sans-serif;
            cursor: pointer;
            transition: transform 0.2s;
        }
        .btn-submit:active { transform: scale(0.95); }
        .btn-submit:disabled { opacity: 0.5; cursor: not-allowed; }

        /* --- THEME TOGGLE (Hidden but functional logic present) --- */
        /* Design focuses on Dark Mode as "Premium", but structure supports overrides */

    </style>
</head>
<body>

    <div class="hud-container">
        <div class="hud-header">
            <div class="brand-logo">ECO<span>CAMPUS</span></div>
            <div style="font-size:0.7rem; color:#666;">PREFERENCE VOTE</div>
        </div>
        
        <div class="ballot-strip" id="hud-strip">
            </div>
    </div>

    <div class="container">
        
        <div class="category-header">
            <span class="category-title">Mr. Birla</span>
            <div class="category-line"></div>
        </div>
        <div class="grid" id="boys-grid"></div>

        <div class="category-header">
            <span class="category-title">Miss. Birla</span>
            <div class="category-line"></div>
        </div>
        <div class="grid" id="girls-grid"></div>

    </div>

    <div class="action-bar">
        <div class="status-text" id="status-text">
            Start selecting...
        </div>
        <button class="btn-submit" id="submitBtn" onclick="submitVote()">VOTE</button>
    </div>

    <script>
        const CANDIDATE_DATA = {
            boys: [
                { id: "b1", name: "Aashish", icon: "fa-user-tie", img: "" },
                { id: "b2", name: "Krushna", icon: "fa-laptop-code", img: "" },
                { id: "b3", name: "Suraj", icon: "fa-user", img: "" },
                { id: "b4", name: "Yashraj", icon: "fa-dumbbell", img: "" },
                { id: "b5", name: "Prasad", icon: "fa-star", img: "" }
            ],
            girls: [
                { id: "g1", name: "Vaidehi", icon: "fa-crown", img: "" },
                { id: "g2", name: "Ekta", icon: "fa-star", img: "" },
                { id: "g3", name: "Divya", icon: "fa-heart", img: "" },
                { id: "g4", name: "Dharani", icon: "fa-music", img: "" },
                { id: "g5", name: "Kaustubhi", icon: "fa-camera", img: "" }
            ]
        };

        let selections = { boys: [], girls: [] };
        const LIMIT = 5;

        // --- INITIALIZATION ---
        window.onload = function() {
            if(localStorage.getItem('voteLocked') === 'true') {
                lockApp();
            }
            renderGrids();
            updateHUD();
        };

        function renderGrids() {
            // Render Boys
            document.getElementById('boys-grid').innerHTML = CANDIDATE_DATA.boys.map(c => createCard(c, 'boys')).join('');
            // Render Girls
            document.getElementById('girls-grid').innerHTML = CANDIDATE_DATA.girls.map(c => createCard(c, 'girls')).join('');
        }

        function createCard(c, type) {
            const visual = c.img 
                ? `<img src="${c.img}" class="avatar" alt="${c.name}">` 
                : `<div class="avatar-icon"><i class="fas ${c.icon}"></i></div>`;

            return `
            <div class="card" id="card-${c.id}" onclick="handleVote('${c.id}', '${type}')">
                <div class="card-badge" id="badge-${c.id}"></div>
                <div class="img-ring">
                    ${visual}
                </div>
                <div class="name">${c.name}</div>
            </div>`;
        }

        // --- CORE LOGIC ---
        function handleVote(id, type) {
            if(localStorage.getItem('voteLocked') === 'true') return;

            const list = selections[type];
            const index = list.indexOf(id);

            // Toggle Logic
            if (index > -1) {
                list.splice(index, 1); // Remove
            } else {
                if (list.length < LIMIT) {
                    list.push(id); // Add
                } else {
                    // Shake animation for error?
                    return;
                }
            }
            
            refreshUI();
        }

        function refreshUI() {
            // 1. Reset visual state
            document.querySelectorAll('.card').forEach(c => {
                c.className = 'card';
                c.removeAttribute('data-rank');
                c.querySelector('.card-badge').innerText = '';
            });

            // 2. Apply Ranks
            ['boys', 'girls'].forEach(type => {
                selections[type].forEach((id, idx) => {
                    const rank = idx + 1;
                    const el = document.getElementById(`card-${id}`);
                    const badge = document.getElementById(`badge-${id}`);
                    
                    if(el) {
                        el.classList.add('selected');
                        el.setAttribute('data-rank', rank);
                        badge.innerText = `#${rank}`;
                    }
                });
            });

            // 3. Update Status Text
            const total = selections.boys.length + selections.girls.length;
            const statusEl = document.getElementById('status-text');
            if (total === 0) statusEl.innerHTML = "Start selecting...";
            else statusEl.innerHTML = `<b>${total}</b> candidates selected`;

            updateHUD();
        }

        function updateHUD() {
            const hud = document.getElementById('hud-strip');
            let html = '';

            // Helper to create slot
            const makeSlot = (rank, id, type) => {
                let content = rank; // Default: just the number
                let color = '#333';
                let style = '';

                if (id) {
                    const c = [...CANDIDATE_DATA.boys, ...CANDIDATE_DATA.girls].find(x => x.id === id);
                    const img = c.img ? `<img src="${c.img}">` : `<i class="fas ${c.icon}" style="color:#fff"></i>`;
                    
                    // Rank Colors for HUD dots
                    if(rank===1) color='var(--gold)';
                    else if(rank===2) color='var(--silver)';
                    else if(rank===3) color='var(--bronze)';
                    else color='#fff';

                    return `
                    <div class="mini-slot filled" onclick="handleVote('${id}', '${type}')">
                        ${img}
                        <div class="rank-dot" style="background:${color}">${rank}</div>
                    </div>`;
                }

                return `<div class="mini-slot">${rank}</div>`;
            };

            // Visualize Boys 1-5
            selections.boys.forEach((id, i) => html += makeSlot(i+1, id, 'boys'));
            // Fill empty slots for Boys? Optional. Let's just show selected to keep it clean.
            
            if(selections.boys.length > 0 && selections.girls.length > 0) {
                 html += `<div style="width:1px; background:rgba(255,255,255,0.1); margin:0 5px;"></div>`;
            }

            // Visualize Girls 1-5
            selections.girls.forEach((id, i) => html += makeSlot(i+1, id, 'girls'));

            if (html === '') html = '<span style="font-size:0.7rem; color:#444; padding:10px;">Your ballot is empty</span>';

            hud.innerHTML = html;
        }

        // --- SUBMISSION ---
        function submitVote() {
            if(selections.boys.length === 0 && selections.girls.length === 0) {
                Swal.fire({
                    title: 'Ballot Empty',
                    text: 'Tap candidates to select them.',
                    icon: 'warning',
                    background: '#111', color: '#fff', confirmButtonColor: '#333'
                });
                return;
            }

            Swal.fire({
                title: 'Confirm Vote',
                text: "This action cannot be undone.",
                icon: 'question',
                showCancelButton: true,
                confirmButtonText: 'Lock Vote',
                confirmButtonColor: '#fff',
                cancelButtonColor: '#333',
                background: '#000', color: '#fff'
            }).then((result) => {
                if (result.isConfirmed) {
                    localStorage.setItem('voteLocked', 'true');
                    lockApp();
                    Swal.fire({
                        title: 'Voted Successfully',
                        icon: 'success',
                        background: '#000', color: '#fff',
                        showConfirmButton: false, timer: 1500
                    });
                }
            });
        }

        function lockApp() {
            const btn = document.getElementById('submitBtn');
            btn.innerText = "LOCKED";
            btn.disabled = true;
            btn.style.opacity = "0.5";
            document.body.style.filter = "grayscale(0.8)";
            document.getElementById('status-text').innerHTML = "Voting Closed";
        }
    </script>
</body>
</html>
